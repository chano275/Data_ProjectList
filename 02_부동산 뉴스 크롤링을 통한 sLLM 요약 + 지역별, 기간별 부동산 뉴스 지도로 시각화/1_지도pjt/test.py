import pandas as pd
import folium
from io import StringIO

# 좌표 데이터를 문자열로 정의
data_str = '''
latitude	longitude
37.5666791	126.9782914
35.5391697	129.3119136
37.5666791	126.9782914

35.2382	128.6925
36.6471132	127.3923613
37.6581862	126.8319452
36.3497007	127.3849016
35.1279837	129.0963974
36.3497007	127.3849016
37.5861825	126.9697078
37.5262	126.8959
37.5177	127.0473

36.3497007	127.3849016

37.5666791	126.9782914
37.5177	127.0473
37.49488385	127.118785
37.6359398	127.2165051
37.5666791	126.9782914
37.5861825	126.9697078
37.5660872	127.0661533
37.5666791	126.9782914
37.5666791	126.9782914
37.5666791	126.9782914
37.5666791	126.9782914
37.49488385	127.118785
37.5177	127.0473
37.3995551	127.1038769
37.6359398	127.2165051
37.5666791	126.9782914

37.5666791	126.9782914
37.5660872	127.0661533
37.5666791	126.9782914
37.3995551	127.1038769
37.5666791	126.9782914
37.2884675	127.0535231
37.5666791	126.9782914
37.5666791	126.9782914
37.5666791	126.9782914
37.5666791	126.9782914

37.2884675	127.0535231
37.3995551	127.1038769
'''

# 데이터를 데이터프레임으로 변환
df = pd.read_csv(StringIO(data_str), sep='\t', skip_blank_lines=True)

# NaN 값이 있는 행 제거
df = df.dropna()

# 데이터 타입 변환
df['latitude'] = df['latitude'].astype(float)
df['longitude'] = df['longitude'].astype(float)

# 지도의 중심 설정 (평균 좌표)
map_center = [df['latitude'].mean(), df['longitude'].mean()]
m = folium.Map(location=map_center, zoom_start=7)

# 각 좌표를 지도에 추가
for idx, row in df.iterrows():
    folium.CircleMarker(
        location=[row['latitude'], row['longitude']],
        radius=5,
        color='blue',
        fill=True,
        fill_color='blue'
    ).add_to(m)

# 지도를 HTML 파일로 저장
m.save('map.html')

print("지도 파일이 'map.html'로 저장되었습니다. 웹 브라우저로 열어보세요.")
